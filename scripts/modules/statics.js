(()=>{function p(d,r){var a=document.getElementById(d),r=JSON.parse(a.getAttribute("data-chart")),o=echarts.init(a,c()),n={title:{text:"\u6587\u7AE0\u7EDF\u8BA1",x:"center"},tooltip:{trigger:"axis",formatter(t){var i=t[0].name+"\u5E74";let s=`<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${t[0].color};"></span>`;return i+=`<br/>${s} ${t[0].seriesName}: ${t[0].value}\u7BC7`,i}},xAxis:{data:Object.keys(r)},yAxis:{type:"value",name:"\u6570\u91CF",min:0,max:55,interval:10},series:[{name:"\u6570\u91CF",type:"bar",data:Object.values(r)},{name:"\u6570\u91CF",type:"line",smooth:!0,data:Object.values(r)}]};o.setOption(n),window.addEventListener("resize",()=>{o.resize()})}function v(d,r){var a=document.getElementById(d),r=JSON.parse(a.getAttribute("data-chart")),o=echarts.init(a,c());o.on("click",function(e){typeof e.seriesIndex>"u"||e.type=="click"&&(location.href="/categories/"+encodeURI(e.data.name))});var n=[];for(var t in r)n.push({name:t,value:r[t]});var i={title:{text:"\u5206\u7C7B\u7EDF\u8BA1",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} \u7BC7({d}%)"},series:[{name:"\u5206\u7C7B",type:"pie",radius:"50%",center:["50%","50%"],data:n,roseType:"area",itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(i),window.addEventListener("resize",()=>{o.resize()})}function g(d){var l=document.getElementById(d),a=JSON.parse(l.getAttribute("data-chart")),r=echarts.init(l,c());r.on("click",function(i){typeof i.seriesIndex>"u"||i.type=="click"&&(location.href="/tags/"+encodeURI(i.data.name.toLowerCase()))});var o=[];for(var n in a)o.push({name:n,value:a[n]});var t={title:{text:"\u6807\u7B7E\u7EDF\u8BA1",x:"center"},series:[{type:"wordCloud",sizeRange:[10,100],rotationRange:[-90,90],rotationStep:45,gridSize:2,shape:"circle",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABAklEQVQ4T63TLyyFURjH8c8trs0UicDMNFMIBF3RkJhNoOmKzSapJgkKzZ8k0BWBQjQbAkUym5vYs513e++7l3fX9dvOTjjP893v+XNq2lStzXxFQC82MIOBAvwJZ9jCa/aWB/TjCn0Vrl4wgeeIywMOsIgLzOO9AOrGEaYRsUsZ4BydmEQHBhF2yxRlPeIzuW2Egx3MJetv2K0oYQ09iFKOAzCCa9RbnEgD4wFYT2cZC5itAJ3iEPvYDsBmShpNTb3H0A+QBwzjC7c4CcAK9nCDD0wVppNnReIlujCG1QBE56Oev6ie7UGQy5arDNoUmwHu0jTijl78pqbYf/9MLffhG9gELuqHjsg6AAAAAElFTkSuQmCC",drawOutOfBound:!1,textStyle:{color:function(){return"rgb("+[Math.round(Math.random()*160),Math.round(Math.random()*160),Math.round(Math.random()*160)].join(",")+")"}},emphasis:{textStyle:{shadowBlur:10,shadowColor:"#333",color:"#409EFF"}},data:o.sort(function(i,e){return e.value-i.value})}]};r.setOption(t),window.addEventListener("resize",()=>{r.resize()})}function f(d){var l=document.getElementById(d),a=JSON.parse(l.getAttribute("data-chart")),r=echarts.init(l,c()),o=Object.keys(a).map(function(e){return a[e]}).reduce(function(e,s,u,m){return e+s}),n=[],t=[];for(let e of Object.keys(a)){t.push({text:e,max:100});var i=Math.round((a[e]/o+.32).toFixed(2)*100);n.push(i)}option={title:{text:"\u8BED\u8A00\u7EDF\u8BA1",x:"center"},tooltip:{trigger:"axis"},radar:[{indicator:t,radius:80,center:["50%","60%"]}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:n,name:"\u8BED\u8A00\u4F7F\u7528(%)"}]}]},r.setOption(option),window.addEventListener("resize",()=>{r.resize()})}function y(d){var l=document.getElementById(d),a=JSON.parse(l.getAttribute("data-chart")),r=echarts.init(l,c()),o=[];o.push({name:"\u5B66\u4E60\u65F6\u957F",type:"line",smooth:!0,data:a.map(n=>n.words.used_time+n.listen.used_time+n.speak.used_time+n.read.used_time)}),option={title:{text:"\u6247\u8D1D\u6253\u5361",x:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:a.map(n=>{let t=new Date(n.checkin_date),i=t.getMonth()+1,e=i<10?`0${i}`:i.toString(),s=t.getDate(),u=s<10?`0${s}`:s.toString();return`${e}-${u}`})},yAxis:[{type:"value",name:"\u65F6\u95F4",min:0,max:25,interval:5}],series:o},r.setOption(option),window.addEventListener("resize",()=>{r.resize()})}function x(d){var l=document.getElementById(d),a=JSON.parse(l.getAttribute("data-chart")),r=echarts.init(l,c()),o=[];for(let t=0;t<a.books.length;t++)o.push(Number(a.books[t])+Number(a.movies[t]));var n={title:{text:"\u4E66\u5F71\u97F3\u7EDF\u8BA1",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){for(var i=t[0].name+"\u6708",e=0,s=t.length;e<s;e++){let m=`<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${t[e].color};"></span>`,h="\u4E2A";t[e].seriesName=="\u8BFB\u4E66"?h="\u672C":t[e].seriesName=="\u89C2\u5F71"&&(h="\u90E8"),i+=`<br/>${m} ${t[e].seriesName}: ${t[e].value}${h}`}return i}},xAxis:[{type:"category",data:["1","2","3","4","5","6","7","8","9","10","11","12"],axisLabel:{formatter:"{value}\u6708"},axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"\u6570\u91CF",min:0,max:20,interval:5,axisLabel:{formatter:"{value}"}}],series:[{name:"\u8BFB\u4E66",type:"bar",tooltip:{valueFormatter:function(t){return t+" \u672C"}},data:a.books},{name:"\u89C2\u5F71",type:"bar",tooltip:{valueFormatter:function(t){return t+" \u90E8"}},data:a.movies},{name:"\u5408\u8BA1",type:"line",smooth:!0,tooltip:{valueFormatter:function(t){return t+" \u4E2A"}},data:o}]};r.setOption(n),window.addEventListener("resize",()=>{r.resize()})}function b(d,r){var a=document.getElementById(d),r=JSON.parse(a.getAttribute("data-chart")),o=Object.keys(r).map(function(e){return{name:e,value:r[e]}});o.sort(function(e,s){return s.value-e.value});var n=o.slice(0,10);n=n.sort(function(e,s){return s.value-e.value});var t=echarts.init(a,c()),i={title:{text:"\u70ED\u95E8\u6807\u7B7E",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var s=e[0];return`${`<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${s.color};"></span>`} ${s.name}: ${s.value} \u6B21`}},grid:{left:"5%",right:"5%",bottom:"5%",top:60,containLabel:!0},xAxis:{type:"value",name:"",minInterval:1},yAxis:{type:"category",data:n.map(function(e){return e.name}),axisLabel:{formatter:function(e){return e}},inverse:!0},series:[{name:"\u6807\u7B7E",type:"bar",data:n.map(function(e){return e.value}),itemStyle:{emphasis:{color:"#409EFF"}},label:{show:!1,position:"right",formatter:"{c} \u6B21"}}]};t.setOption(i),t.on("click",function(e){typeof e.seriesIndex>"u"||e.type=="click"&&(location.href="/tags/"+encodeURI(e.name.toLowerCase()))}),window.addEventListener("resize",()=>{t.resize()})}function c(){return localStorage.getItem("theme")||"light"}window.$Statics={handleYearlyChart:p,handleCategoryChart:v,handleTagsChart:g,handleLanguagesChart:f,handleDoubanChart:x,handleShanbayChart:y,handleTop10TagsChart:b};window.addEventListener("storage",function(d){d.key==="theme"&&console.log("myKey value changed to:",d.newValue)});})();
